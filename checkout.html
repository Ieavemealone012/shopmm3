<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout - MM3</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">

<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f4; }
header { background:#222; color:#fff; padding:20px; text-align:center; position:relative; }
header h1 { margin:0; font-family: 'Orbitron', sans-serif; font-size:2.5em; color:white; text-shadow:2px 2px 5px red; }
nav a { color:#fff; margin:0 8px; padding:8px 15px; text-decoration:none; font-weight:bold; border-radius:20px; background:#7a0707; transition:background .3s ease; display:inline-block; }
nav a:hover { background:#f10f0f; }
.logo { position:absolute; top:10px; right:40px; width:80px; height:auto; }

.container { max-width:800px; margin:40px auto; background:#fff; padding:30px; border-radius:10px; box-shadow:0 0 12px rgba(0,0,0,0.12); }
h2 { font-family:'Orbitron', sans-serif; text-align:center; margin-bottom:20px; }
label { font-weight:bold; display:block; margin-top:15px; }
input, select, textarea { width:100%; padding:10px; margin-top:5px; border:1px solid #ccc; border-radius:6px; font-size:16px; }
textarea { height:80px; }
button { margin-top:20px; width:100%; padding:12px; background:#0077ff; color:#fff; border:none; border-radius:6px; font-size:16px; cursor:pointer; transition:0.3s; }
button:disabled { background:#999; cursor:not-allowed; }
button:hover:not(:disabled) { background:#005fcc; box-shadow:0 0 10px #0077ff; }
footer { text-align:center; padding:20px; background:#222; color:#fff; margin-top:50px; }

.shipping-fields { display:none; }
</style>
</head>
<body>

<header style="background-color:rgb(12,12,12);">
  <img src="headerlogo2.png" class="logo" alt="MM3 Logo">
  <h1>Checkout</h1>
  <nav style="margin-top:15px;">
    <a href="index.html">Home</a>
    <a href="products.html">Products</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="cart.html">Cart</a>
  </nav>
</header>

<div class="container">
  <h2>Complete Your Order</h2>

  <form id="checkoutForm">
    <!-- Delivery Option -->
    <label>Delivery Option *</label>
    <select id="deliveryOption" required>
      <option value="">-- Select Option --</option>
      <option value="pickup">Pickup</option>
      <option value="shipping">Shipping</option>
    </select>

    <!-- Shipping Fields -->
    <div class="shipping-fields" id="shippingFields">
      <label>Country/Region *</label>
      <input type="text" id="country" placeholder="Country/Region">

      <label>First Name *</label>
      <input type="text" id="firstName">

      <label>Last Name (Optional)</label>
      <input type="text" id="lastName">

      <label>Address *</label>
      <input type="text" id="address" placeholder="Start typing...">

      <label>Phone Number *</label>
      <input type="tel" id="phone" placeholder="123-456-7890">
    </div>

    <!-- Shipping Method -->
    <div class="shipping-fields" id="shippingMethodFields">
      <label>Shipping Method *</label>
      <select id="shippingMethod">
        <option value="">-- Select Method --</option>
        <option value="standard">Standard - Free</option>
        <option value="expedited">Expedited - $50.00</option>
      </select>
    </div>

    <!-- Payment Options -->
    <label>Payment Method *</label>
    <select id="paymentMethod" required>
      <option value="">-- Select Payment --</option>
      <option value="stripe">Stripe</option>
      <option value="paypal">PayPal</option>
      <option value="venmo">Venmo</option>
      <option value="klarna">Klarna</option>
    </select>

    <!-- Additional Tip -->
    <label>Additional Tip (Optional)</label>
    <input type="number" id="tip" placeholder="0.00" min="0" step="0.01">

    <button type="submit" id="payButton" disabled>Pay Now (Testing)</button>
    <p id="successMessage" style="display:none; color:green; font-weight:bold; margin-top:10px;">Payment simulated successfully!</p>
  </form>
</div>

<footer>
  &copy; 2025 MM3 Corporation. All Rights Reserved.
</footer>

<script>
// Show/hide shipping fields
const deliveryOption = document.getElementById('deliveryOption');
const shippingFields = document.getElementById('shippingFields');
const shippingMethodFields = document.getElementById('shippingMethodFields');

deliveryOption.addEventListener('change', () => {
  if (deliveryOption.value === 'shipping') {
    shippingFields.style.display = 'block';
    shippingMethodFields.style.display = 'block';
  } else {
    shippingFields.style.display = 'none';
    shippingMethodFields.style.display = 'none';
  }
  checkFields();
});

// Enable/disable pay button
const checkoutForm = document.getElementById('checkoutForm');
const payButton = document.getElementById('payButton');
const successMessage = document.getElementById('successMessage');

function checkFields() {
  const payment = document.getElementById('paymentMethod').value;
  const delivery = deliveryOption.value;
  let requiredFilled = payment && delivery;

  if (delivery === 'shipping') {
    const firstName = document.getElementById('firstName').value.trim();
    const country = document.getElementById('country').value.trim();
    const address = document.getElementById('address').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const shippingMethod = document.getElementById('shippingMethod').value;
    requiredFilled = requiredFilled && firstName && country && address && phone && shippingMethod;
  }

  payButton.disabled = !requiredFilled;
}

// Listen to input changes
checkoutForm.addEventListener('input', checkFields);

// Fake payment submission
checkoutForm.addEventListener('submit', (e) => {
  e.preventDefault();
  successMessage.style.display = 'block';
  checkoutForm.reset();
  shippingFields.style.display = 'none';
  shippingMethodFields.style.display = 'none';
  payButton.disabled = true;
});

payButton.addEventListener("click", (e) => {
    e.preventDefault();

    // Save the order for confirmation.html
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    localStorage.setItem("recentOrder", JSON.stringify(cart));

    // Empty cart after purchase
    localStorage.removeItem("cart");

    // Go to confirmation page
    window.location.href = "confirmation.html";
});

// Google Maps Address Autocomplete (placeholder for API integration)
function initAutocomplete() {
  // To use, add your Google Maps API key
  // const input = document.getElementById('address');
  // const autocomplete = new google.maps.places.Autocomplete(input);
}
</script>

<!-- Google Maps API example (commented out for now) -->
<!-- <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&callback=initAutocomplete" async defer></script> -->

</body>
</html>